(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{383:function(a,t,s){"use strict";s.r(t);var e=s(27),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"frp客户端配置详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#frp客户端配置详解"}},[a._v("#")]),a._v(" FRP客户端配置详解")]),a._v(" "),t("p",[a._v("FRP客户端配置文件（frpc.ini）定义了如何将内网服务映射到公网，本文将详细解析各种配置选项。")]),a._v(" "),t("h2",{attrs:{id:"基础配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础配置"}},[a._v("#")]),a._v(" 基础配置")]),a._v(" "),t("p",[a._v("客户端配置文件以"),t("code",[a._v("[common]")]),a._v("节开始，包含连接服务端所需的基本信息：")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("common")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("server_addr")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("your_server_address")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("server_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("12580")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("token")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("your_secure_token")]),a._v("\n")])])]),t("ul",[t("li",[t("code",[a._v("server_addr")]),a._v("：FRP服务端的公网IP地址")]),a._v(" "),t("li",[t("code",[a._v("server_port")]),a._v("：FRP服务端监听的端口")]),a._v(" "),t("li",[t("code",[a._v("token")]),a._v("：用于身份验证的安全令牌")])]),a._v(" "),t("h2",{attrs:{id:"http穿透配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http穿透配置"}},[a._v("#")]),a._v(" HTTP穿透配置")]),a._v(" "),t("p",[a._v("最常见的配置是HTTP穿透，可以将内网Web服务暴露到公网：")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("yf_jenkins")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("http")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("8081")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("custom_domains")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("jenkins.your_domain")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("proxy2.9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("http")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("192.168.2.9")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("8080")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("custom_domains")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("9.your_domain")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("proxy2.8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("http")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("192.168.2.8")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("8083")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("custom_domains")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("8.your_domain")]),a._v("\n")])])]),t("p",[a._v("配置项说明：")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("type")]),a._v("：穿透类型，这里为HTTP")]),a._v(" "),t("li",[t("code",[a._v("local_port")]),a._v("：本地服务端口")]),a._v(" "),t("li",[t("code",[a._v("local_ip")]),a._v("：本地服务IP（可选，默认为127.0.0.1）")]),a._v(" "),t("li",[t("code",[a._v("custom_domains")]),a._v("：自定义域名")])]),a._v(" "),t("h2",{attrs:{id:"tcp穿透配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tcp穿透配置"}},[a._v("#")]),a._v(" TCP穿透配置")]),a._v(" "),t("p",[a._v("TCP穿透适用于SSH、数据库等基于TCP协议的服务：")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("ssh")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("tcp")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("22")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("remote_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("6000")]),a._v("\n")])])]),t("h2",{attrs:{id:"udp穿透配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#udp穿透配置"}},[a._v("#")]),a._v(" UDP穿透配置")]),a._v(" "),t("p",[a._v("UDP穿透适用于DNS、游戏等基于UDP协议的服务：")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("dns")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("udp")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("53")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("remote_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("6001")]),a._v("\n")])])]),t("h2",{attrs:{id:"特殊应用配置示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特殊应用配置示例"}},[a._v("#")]),a._v(" 特殊应用配置示例")]),a._v(" "),t("p",[a._v("以下是几个特殊应用场景的配置示例：")]),a._v(" "),t("h3",{attrs:{id:"wireguard-vpn穿透"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wireguard-vpn穿透"}},[a._v("#")]),a._v(" WireGuard VPN穿透")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("yf_wg_udp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("udp")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("127.0.0.1")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("12588")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("remote_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("12588")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("custom_domains")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("wg.your_domain")]),a._v("\n")])])]),t("h3",{attrs:{id:"grafana监控面板穿透"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grafana监控面板穿透"}},[a._v("#")]),a._v(" Grafana监控面板穿透")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("proxy-grafana")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("http")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("192.168.2.9")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("3000")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("custom_domains")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("grafana.your_domain")]),a._v("\n")])])]),t("h3",{attrs:{id:"loki日志系统穿透"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loki日志系统穿透"}},[a._v("#")]),a._v(" Loki日志系统穿透")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("proxy-loki")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("type")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("http")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("192.168.2.9")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("local_port")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("3100")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("custom_domains")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("loki.your_domain")]),a._v("\n")])])]),t("h2",{attrs:{id:"启动客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动客户端"}},[a._v("#")]),a._v(" 启动客户端")]),a._v(" "),t("p",[a._v("配置完成后，可以通过以下命令启动FRP客户端：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("frpc "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" frpc.ini\n")])])]),t("h2",{attrs:{id:"重新加载配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重新加载配置"}},[a._v("#")]),a._v(" 重新加载配置")]),a._v(" "),t("p",[a._v("当修改配置文件后，无需重启客户端即可重新加载配置：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("frpc reload "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" frpc.ini\n")])])]),t("h2",{attrs:{id:"注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),t("ol",[t("li",[a._v("确保自定义域名已正确解析到FRP服务端IP")]),a._v(" "),t("li",[a._v("服务端需开放相应端口的防火墙规则")]),a._v(" "),t("li",[a._v("建议使用复杂的安全令牌，防止未授权访问")]),a._v(" "),t("li",[a._v("对于生产环境，建议配置客户端开机自启动")])])])}),[],!1,null,null,null);t.default=n.exports}}]);