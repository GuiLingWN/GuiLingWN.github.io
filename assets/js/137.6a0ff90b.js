(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{448:function(a,e,t){"use strict";t.r(e);var s=t(27),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"ffmpeg音视频处理常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg音视频处理常用命令"}},[a._v("#")]),a._v(" FFmpeg音视频处理常用命令")]),a._v(" "),e("p",[a._v("FFmpeg 是一个强大的音视频处理工具，在日常开发中经常会用到。这里记录几个实用的音频提取命令，方便需要时快速查阅。")]),a._v(" "),e("h2",{attrs:{id:"从-mp4-提取音频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从-mp4-提取音频"}},[a._v("#")]),a._v(" 从 MP4 提取音频")]),a._v(" "),e("p",[a._v("最简单的场景，从视频文件中提取音频：")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" copy output.mp3\n")])])]),e("p",[e("strong",[a._v("参数说明：")])]),a._v(" "),e("ul",[e("li",[e("code",[a._v("-i")]),a._v(" 指定输入文件")]),a._v(" "),e("li",[e("code",[a._v("-vn")]),a._v(" 表示不处理视频流（video none）")]),a._v(" "),e("li",[e("code",[a._v("-c:a copy")]),a._v(" 表示直接复制音频流，不重新编码")]),a._v(" "),e("li",[a._v("输出格式由文件扩展名决定")])]),a._v(" "),e("h2",{attrs:{id:"flv-视频提取音频"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flv-视频提取音频"}},[a._v("#")]),a._v(" FLV 视频提取音频")]),a._v(" "),e("p",[a._v("FLV 格式比较特殊，其内置的音频格式通常不是 MP3，需要特别处理：")]),a._v(" "),e("h3",{attrs:{id:"提取为-aac-格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提取为-aac-格式"}},[a._v("#")]),a._v(" 提取为 AAC 格式")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.flv "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" copy output.aac\n")])])]),e("p",[a._v("因为 FLV 文件中的音频通常是 AAC 格式，可以直接提取。")]),a._v(" "),e("h3",{attrs:{id:"转换为-mp3-格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转换为-mp3-格式"}},[a._v("#")]),a._v(" 转换为 MP3 格式")]),a._v(" "),e("p",[a._v("如果需要 MP3 格式，需要安装 "),e("code",[a._v("libmp3lame")]),a._v(" 音频编码器：")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.flv "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c:a")]),a._v(" libmp3lame output.mp3\n")])])]),e("p",[e("strong",[a._v("注意：")]),a._v(" 此方法需要额外安装 libmp3lame 库。更多详情可参考："),e("a",{attrs:{href:"http://www.mzh.ren/ffmpeg-extract-mp3-from-flv.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("这篇文章"),e("OutboundLink")],1)]),a._v(" "),e("h2",{attrs:{id:"裁剪音频时长"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#裁剪音频时长"}},[a._v("#")]),a._v(" 裁剪音频时长")]),a._v(" "),e("p",[a._v("有时候需要截取音频的特定片段，可以使用以下命令：")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("ffmpeg "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" inputname.mp3 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" 00:01:00 "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" 00:02:00 outputname.mp3\n")])])]),e("p",[e("strong",[a._v("参数说明：")])]),a._v(" "),e("ul",[e("li",[e("code",[a._v("-ss")]),a._v(" 指定起始时间点")]),a._v(" "),e("li",[e("code",[a._v("-t")]),a._v(" 指定持续时长（从起始点开始计算）")]),a._v(" "),e("li",[a._v("时间格式为 "),e("code",[a._v("HH:MM:SS")])])]),a._v(" "),e("p",[a._v("例如上面的命令表示：从 1 分钟处开始，截取 2 分钟的音频内容。")]),a._v(" "),e("h2",{attrs:{id:"小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[a._v("#")]),a._v(" 小结")]),a._v(" "),e("p",[a._v("这些命令涵盖了音频提取的常见场景。FFmpeg 功能远不止这些，但掌握这几个命令就能应对大部分日常需求了。")])])}),[],!1,null,null,null);e.default=r.exports}}]);