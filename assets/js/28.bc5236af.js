(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{342:function(t,a,s){"use strict";s.r(a);var n=s(27),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"gitlab-runner配置与ci-cd实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-runner配置与ci-cd实践"}},[t._v("#")]),t._v(" GitLab Runner配置与CI/CD实践")]),t._v(" "),a("p",[t._v("GitLab Runner是GitLab CI/CD的核心组件，负责执行CI/CD流水线中定义的任务。本文记录了使用Docker部署GitLab Runner并配置自动化构建的实践过程。")]),t._v(" "),a("h2",{attrs:{id:"gitlab-runner部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-runner部署"}},[t._v("#")]),t._v(" GitLab Runner部署")]),t._v(" "),a("h3",{attrs:{id:"使用docker安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用docker安装"}},[t._v("#")]),t._v(" 使用Docker安装")]),t._v(" "),a("p",[t._v("推荐使用Docker方式部署，便于管理和维护：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建配置目录")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" /data/gitlab-runner/config\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动GitLab Runner容器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-itd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--restart")]),t._v(" always "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" gitlab-runner "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /data/gitlab-runner/config:/etc/gitlab-runner "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /var/run/docker.sock:/var/run/docker.sock "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  gitlab/gitlab-runner:v15.3.3\n")])])]),a("p",[a("strong",[t._v("挂载说明：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/data/gitlab-runner/config")]),t._v(": Runner配置文件目录")]),t._v(" "),a("li",[a("code",[t._v("/var/run/docker.sock")]),t._v(": Docker socket，允许Runner创建容器执行任务")])]),t._v(" "),a("h3",{attrs:{id:"注册runner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注册runner"}},[t._v("#")]),t._v(" 注册Runner")]),t._v(" "),a("p",[t._v("容器启动后，需要在GitLab项目中注册Runner：")]),t._v(" "),a("ol",[a("li",[t._v("进入GitLab项目的Settings → CI/CD → Runners")]),t._v(" "),a("li",[t._v("复制注册token")]),t._v(" "),a("li",[t._v("执行注册命令：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" gitlab-runner gitlab-runner register\n")])])]),a("p",[t._v("按提示输入：")]),t._v(" "),a("ul",[a("li",[t._v("GitLab URL")]),t._v(" "),a("li",[t._v("Registration token")]),t._v(" "),a("li",[t._v("Runner描述")]),t._v(" "),a("li",[t._v("Runner tags")]),t._v(" "),a("li",[t._v("Executor类型（推荐docker）")])]),t._v(" "),a("h2",{attrs:{id:"ci-cd配置示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ci-cd配置示例"}},[t._v("#")]),t._v(" CI/CD配置示例")]),t._v(" "),a("h3",{attrs:{id:"vue3项目自动化构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3项目自动化构建"}},[t._v("#")]),t._v(" Vue3项目自动化构建")]),t._v(" "),a("p",[t._v("以下是一个基于Node.js的Vue3项目自动化构建配置示例（"),a("code",[t._v(".gitlab-ci.yml")]),t._v("）：")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("16.18.0  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用Node.js镜像作为基础环境")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" build\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" deploy\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("variables")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("INSTALL_DIR")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/web"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" node_modules/\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install-job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" build\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' echo "install'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v('"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm config set registry https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//registry.npmmirror.com\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm install pnpm@8.7.6 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("g\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" pnpm install\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' echo "build'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v('"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" pnpm run build\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" node_modules/\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("artifacts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" dist/\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy-job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("stage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" deploy\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" production\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' echo "Deploying to $'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("INSTALL_DIR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v('"\n    '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mkdir "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("p $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("INSTALL_DIR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("r ./dist/* $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("INSTALL_DIR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"配置说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置说明"}},[t._v("#")]),t._v(" 配置说明")]),t._v(" "),a("p",[a("strong",[t._v("stage阶段：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("build")]),t._v(": 安装依赖并构建项目")]),t._v(" "),a("li",[a("code",[t._v("deploy")]),t._v(": 将构建产物部署到指定目录")])]),t._v(" "),a("p",[a("strong",[t._v("cache缓存：")])]),t._v(" "),a("ul",[a("li",[t._v("缓存"),a("code",[t._v("node_modules")]),t._v("目录，避免每次都重新安装依赖")]),t._v(" "),a("li",[t._v("提升构建速度")])]),t._v(" "),a("p",[a("strong",[t._v("artifacts制品：")])]),t._v(" "),a("ul",[a("li",[t._v("保存构建产物"),a("code",[t._v("dist")]),t._v("目录")]),t._v(" "),a("li",[t._v("在后续stage中可以使用")])]),t._v(" "),a("p",[a("strong",[t._v("variables变量：")])]),t._v(" "),a("ul",[a("li",[t._v("定义部署目标目录")]),t._v(" "),a("li",[t._v("便于统一管理和修改")])]),t._v(" "),a("h3",{attrs:{id:"优化建议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优化建议"}},[t._v("#")]),t._v(" 优化建议")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("使用特定的Node版本：")]),t._v(" 确保构建环境一致性")]),t._v(" "),a("li",[a("strong",[t._v("配置镜像源：")]),t._v(" 使用国内镜像源加速依赖下载")]),t._v(" "),a("li",[a("strong",[t._v("合理使用缓存：")]),t._v(" 缓存依赖包减少安装时间")]),t._v(" "),a("li",[a("strong",[t._v("限制Runner执行：")]),t._v(" 使用tags限定特定Runner执行任务")])]),t._v(" "),a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),a("h3",{attrs:{id:"磁盘空间被占满"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#磁盘空间被占满"}},[t._v("#")]),t._v(" 磁盘空间被占满")]),t._v(" "),a("p",[t._v("GitLab Runner长期运行后，日志文件可能会占用大量磁盘空间。")]),t._v(" "),a("p",[a("strong",[t._v("问题定位：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看Docker容器日志文件大小")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sh")]),t._v(" /var/lib/docker/containers/*\n")])])]),a("p",[a("strong",[t._v("解决方法：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除指定容器的日志文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 容器ID可以通过 docker ps 查看")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /var/lib/docker/containers/"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("container_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("container_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("-json.log\n")])])]),a("p",[a("strong",[t._v("预防措施：")])]),t._v(" "),a("p",[t._v("启动容器时限制日志大小：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  --log-opt max-size"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("10m "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  --log-opt max-file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),a("p",[t._v("或在"),a("code",[t._v("/etc/docker/daemon.json")]),t._v("中全局配置：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"log-driver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"json-file"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"log-opts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"max-size"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10m"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"max-file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"ssh非22端口克隆问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh非22端口克隆问题"}},[t._v("#")]),t._v(" SSH非22端口克隆问题")]),t._v(" "),a("p",[t._v("当GitLab使用非标准SSH端口时，克隆地址格式需要调整。")]),t._v(" "),a("p",[a("strong",[t._v("错误示例：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone git@192.168.2.5:/museum/jiangle/jiangle_admin_web.git\n")])])]),a("p",[a("strong",[t._v("正确格式：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用 ssh:// 协议，并指定端口号")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone ssh://git@192.168.2.5:8022/museum/jiangle/jiangle_admin_web.git\n")])])]),a("h3",{attrs:{id:"developer角色无法push"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#developer角色无法push"}},[t._v("#")]),t._v(" Developer角色无法Push")]),t._v(" "),a("p",[t._v("Developer角色默认对protected分支没有push权限。")]),t._v(" "),a("p",[a("strong",[t._v("解决方法：")])]),t._v(" "),a("ol",[a("li",[t._v("进入项目Settings → Repository → Protected Branches")]),t._v(" "),a("li",[t._v("找到需要修改的分支（如master）")]),t._v(" "),a("li",[t._v('在"Allowed to push"中添加Developer角色')]),t._v(" "),a("li",[t._v("或取消该分支的protected状态")])]),t._v(" "),a("p",[a("strong",[t._v("注意：")]),t._v(" 生产环境建议保持master分支的保护状态，通过Merge Request合并代码。")]),t._v(" "),a("h3",{attrs:{id:"git凭据管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git凭据管理"}},[t._v("#")]),t._v(" Git凭据管理")]),t._v(" "),a("p",[t._v("Windows系统中Git会缓存凭据，更换账号时需要清除缓存。")]),t._v(" "),a("p",[a("strong",[t._v("清除方法：")])]),t._v(" "),a("ol",[a("li",[t._v("打开Windows凭据管理器\n"),a("ul",[a("li",[t._v("控制面板 → 用户账户 → 凭据管理器")])])]),t._v(" "),a("li",[t._v("找到Git相关的凭据（如"),a("code",[t._v("github.com")]),t._v("或GitLab地址）")]),t._v(" "),a("li",[t._v("删除对应凭据")]),t._v(" "),a("li",[t._v("下次操作时会重新提示输入账号密码")])]),t._v(" "),a("p",[a("strong",[t._v("命令行方式：")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清除所有Git凭据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" credential-manager "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者配置不保存凭据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--global")]),t._v(" credential.helper "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n")])])]),a("h2",{attrs:{id:"最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最佳实践"}},[t._v("#")]),t._v(" 最佳实践")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("分支策略：")])]),t._v(" "),a("ul",[a("li",[t._v("保护主分支，通过MR合并代码")]),t._v(" "),a("li",[t._v("使用feature分支开发新功能")]),t._v(" "),a("li",[t._v("定期清理已合并的分支")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Runner管理：")])]),t._v(" "),a("ul",[a("li",[t._v("为不同项目配置专用Runner")]),t._v(" "),a("li",[t._v("使用tags区分不同类型的任务")]),t._v(" "),a("li",[t._v("定期清理旧的构建缓存")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("安全性：")])]),t._v(" "),a("ul",[a("li",[t._v("不在"),a("code",[t._v(".gitlab-ci.yml")]),t._v("中明文存储敏感信息")]),t._v(" "),a("li",[t._v("使用GitLab CI/CD变量管理密钥")]),t._v(" "),a("li",[t._v('配置变量时选择"Masked"和"Protected"')])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("性能优化：")])]),t._v(" "),a("ul",[a("li",[t._v("合理使用缓存减少构建时间")]),t._v(" "),a("li",[t._v("并行执行独立的任务")]),t._v(" "),a("li",[t._v("使用镜像源加速依赖下载")])])])]),t._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.gitlab.com/runner/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab Runner官方文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.gitlab.com/ee/ci/yaml/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab CI/CD配置参考"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/mo_sss/article/details/135757032",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab Runner Docker部署"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);