(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{393:function(a,s,t){"use strict";t.r(s);var e=t(27),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mysql-字符集与排序规则问题解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-字符集与排序规则问题解决"}},[a._v("#")]),a._v(" MySQL 字符集与排序规则问题解决")]),a._v(" "),s("p",[a._v("在使用 MySQL 数据库时，字符集和排序规则的配置对数据存储和查询的正确性至关重要。本文将介绍常见的字符集与排序规则问题及其解决方案。")]),a._v(" "),s("h2",{attrs:{id:"字符合集与排序规则基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字符合集与排序规则基础"}},[a._v("#")]),a._v(" 字符合集与排序规则基础")]),a._v(" "),s("p",[a._v("字符集（Character Set）是字符的集合，定义了字符的编码方式。排序规则（Collation）则定义了字符之间的比较和排序规则。")]),a._v(" "),s("p",[a._v("MySQL 8.0 引入了新的默认字符集 "),s("code",[a._v("utf8mb4")]),a._v(" 和排序规则 "),s("code",[a._v("utf8mb4_0900_ai_ci")]),a._v("，而旧版本默认使用 "),s("code",[a._v("utf8mb4_general_ci")]),a._v("。这种差异可能导致兼容性问题。")]),a._v(" "),s("h2",{attrs:{id:"常见字符集问题及解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见字符集问题及解决方案"}},[a._v("#")]),a._v(" 常见字符集问题及解决方案")]),a._v(" "),s("h3",{attrs:{id:"_1-排序规则不匹配错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-排序规则不匹配错误"}},[a._v("#")]),a._v(" 1. 排序规则不匹配错误")]),a._v(" "),s("p",[a._v("错误信息：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Illegal mix of collations (utf8mb4_general_ci,IMPLICIT) and (utf8mb4_0900_ai_ci,IMPLICIT) for operation '='\n")])])]),s("p",[a._v("这个问题通常出现在连接查询或比较操作中，当两个字段使用不同的排序规则时发生。")]),a._v(" "),s("p",[a._v("解决方案：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 在查询中显式指定排序规则")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("UPDATE")]),a._v(" b_stock_product b \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SET")]),a._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("dewu_app_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("id \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" b_dewu_app app \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("business_code "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("business_code "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLLATE")]),a._v(" utf8mb4_general_ci\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"_2-unknown-collation-错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-unknown-collation-错误"}},[a._v("#")]),a._v(" 2. Unknown collation 错误")]),a._v(" "),s("p",[a._v("错误信息：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Unknown collation: 'utf8mb4_0900_ai_ci'\n")])])]),s("p",[a._v("这个问题通常出现在从 MySQL 8.0 向低版本（如 5.6）导入数据时，因为低版本不支持新的排序规则。")]),a._v(" "),s("p",[a._v("解决方案：")]),a._v(" "),s("ol",[s("li",[a._v("将文件中的所有 "),s("code",[a._v("utf8mb4_0900_ai_ci")]),a._v(" 替换为 "),s("code",[a._v("utf8mb4_general_ci")])]),a._v(" "),s("li",[a._v("将 "),s("code",[a._v("utf8mb4")]),a._v(" 替换为 "),s("code",[a._v("utf8")])])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用文本编辑器或命令行工具进行批量替换")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/utf8mb4_0900_ai_ci/utf8mb4_general_ci/g'")]),a._v(" backup.sql\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/utf8mb4/utf8/g'")]),a._v(" backup.sql\n")])])]),s("h2",{attrs:{id:"字符集配置建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字符集配置建议"}},[a._v("#")]),a._v(" 字符集配置建议")]),a._v(" "),s("h3",{attrs:{id:"查看当前字符集设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前字符集设置"}},[a._v("#")]),a._v(" 查看当前字符集设置")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 查看服务器字符集")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SHOW")]),a._v(" VARIABLES "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("LIKE")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'character_set_server'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 查看数据库字符集")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SHOW")]),a._v(" VARIABLES "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("LIKE")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'character_set_database'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 查看表字符集")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SHOW")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("STATUS")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("LIKE")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'table_name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 查看列字符集")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SHOW")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FULL")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLUMNS")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" table_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h3",{attrs:{id:"设置字符集"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置字符集"}},[a._v("#")]),a._v(" 设置字符集")]),a._v(" "),s("p",[a._v("在创建数据库时指定字符集：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("DATABASE")]),a._v(" database_name \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CHARACTER")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SET")]),a._v(" utf8mb4 \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLLATE")]),a._v(" utf8mb4_0900_ai_ci"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("在创建表时指定字符集：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CREATE")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("TABLE")]),a._v(" table_name "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("\n    id "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("INT")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("PRIMARY")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("KEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("255")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CHARACTER")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SET")]),a._v(" utf8mb4 \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLLATE")]),a._v(" utf8mb4_0900_ai_ci"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("在查询中指定字符集：")]),a._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("SELECT")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" table_name \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WHERE")]),a._v(" column_name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COLLATE")]),a._v(" utf8mb4_general_ci "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'value'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"配置文件中的字符集设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件中的字符集设置"}},[a._v("#")]),a._v(" 配置文件中的字符集设置")]),a._v(" "),s("p",[a._v("在 MySQL 配置文件（my.cnf 或 my.ini）中设置字符集：")]),a._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token section"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("mysqld")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("character-set-server")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("utf8mb4")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("collation-server")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("utf8mb4_0900_ai_ci")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token section"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("mysql")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("default-character-set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("utf8mb4")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token section"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token section-name selector"}},[a._v("client")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("default-character-set")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("utf8mb4")]),a._v("\n")])])]),s("h2",{attrs:{id:"docker-环境中的字符集配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-环境中的字符集配置"}},[a._v("#")]),a._v(" Docker 环境中的字符集配置")]),a._v(" "),s("p",[a._v("在 Docker 环境中，可以通过以下方式配置字符集：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动 MySQL 容器时指定字符集")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" mysql "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_CHARSET")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8mb4 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_COLLATION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8mb4_0900_ai_ci "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  mysql:8.0\n")])])]),s("p",[a._v("或者通过挂载配置文件：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 复制本地配置文件到容器中")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /path/to/my.cnf container_id:/etc/mysql/conf.d/\n")])])]),s("h2",{attrs:{id:"应用程序中的字符集处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用程序中的字符集处理"}},[a._v("#")]),a._v(" 应用程序中的字符集处理")]),a._v(" "),s("p",[a._v("在应用程序连接数据库时，也需要正确设置字符集。")]),a._v(" "),s("h3",{attrs:{id:"jdbc-连接字符串"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jdbc-连接字符串"}},[a._v("#")]),a._v(" JDBC 连接字符串")]),a._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("jdbc"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("localhost"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("database_name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("?")]),a._v("useUnicode"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("characterEncoding"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("UTF")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("connectionCollation"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8mb4_0900_ai_ci\n")])])]),s("h3",{attrs:{id:"node-js-mysql-连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#node-js-mysql-连接"}},[a._v("#")]),a._v(" Node.js MySQL 连接")]),a._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" mysql "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'mysql'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" connection "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("createConnection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("host")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'localhost'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("password")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'password'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("database")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'database_name'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("charset")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'UTF8MB4_GENERAL_CI'")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[a._v("#")]),a._v(" 总结")]),a._v(" "),s("p",[a._v("正确处理 MySQL 字符集和排序规则问题对于确保数据的正确存储和查询至关重要。在实际应用中，应注意以下几点：")]),a._v(" "),s("ol",[s("li",[a._v("统一字符集和排序规则的使用，避免混用不同规则")]),a._v(" "),s("li",[a._v("在升级 MySQL 版本时注意字符集兼容性")]),a._v(" "),s("li",[a._v("在数据导入导出时检查字符集设置")]),a._v(" "),s("li",[a._v("在应用程序中正确配置字符集连接参数")]),a._v(" "),s("li",[a._v("定期检查和优化字符集配置")])]),a._v(" "),s("p",[a._v("通过合理配置和处理字符集问题，可以避免数据乱码、查询错误等常见问题，确保数据库系统的稳定运行。")])])}),[],!1,null,null,null);s.default=r.exports}}]);