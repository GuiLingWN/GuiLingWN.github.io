(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{354:function(a,s,t){"use strict";t.r(s);var e=t(27),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"debian-日常运维实用命令与技巧小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#debian-日常运维实用命令与技巧小结"}},[a._v("#")]),a._v(" Debian 日常运维实用命令与技巧小结")]),a._v(" "),s("p",[a._v("Debian 以其稳定和强大而著称，是许多服务器的首选操作系统。在日常使用和维护过程中，我积累了一些常用的命令和解决问题的小技巧，内容涵盖了磁盘管理、网络配置、软件包处理等方面。在这里，我将这些零散的笔记整理成一篇技术分享，希望能为正在使用 Debian 的朋友们提供一些便利。")]),a._v(" "),s("h2",{attrs:{id:"一、磁盘与文件管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、磁盘与文件管理"}},[a._v("#")]),a._v(" 一、磁盘与文件管理")]),a._v(" "),s("p",[a._v("管理服务器时，我们经常需要关注磁盘空间和文件。以下是一些实用的命令。")]),a._v(" "),s("h3",{attrs:{id:"查看磁盘和目录大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看磁盘和目录大小"}},[a._v("#")]),a._v(" 查看磁盘和目录大小")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[a._v("查看整体磁盘占用情况")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("df")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Th")]),a._v("\n")])])]),s("p",[a._v("这个命令会以易于阅读的格式（"),s("code",[a._v("-h")]),a._v("）并显示文件系统类型（"),s("code",[a._v("-T")]),a._v("）来列出所有挂载点。")])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("查看指定目录的大小")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看当前目录下每个子目录的大小，并按大小排序")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-h")]),a._v(" --max-depth"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sort")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rh")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 仅查看指定目录的总大小")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-sh")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("目录名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])])])]),a._v(" "),s("h3",{attrs:{id:"使用-find-命令进行高级文件管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-find-命令进行高级文件管理"}},[a._v("#")]),a._v(" 使用 "),s("code",[a._v("find")]),a._v(" 命令进行高级文件管理")]),a._v(" "),s("p",[s("code",[a._v("find")]),a._v(" 是一个非常强大的工具，尤其适合批量处理文件。")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[a._v("统计目录下的文件数量")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" /path/to/your/dir "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wc")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-l")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("查找并处理旧文件")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 列出目录下超过一年的文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" /path/to/your/dir "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-mtime")]),a._v(" +365\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除目录下超过一年的文件（请谨慎操作！）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" /path/to/your/dir "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-mtime")]),a._v(" +365 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 移动目录下超过200天的文件到备份目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" /path/to/your/dir "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-mtime")]),a._v(" +200 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" /path/to/backup/ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("统计旧文件的总大小")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 统计目录下100天前的文件总大小（单位：GB）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" /path/to/your/dir "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-type")]),a._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-mtime")]),a._v(" +100 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" + "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{ total += $1 } END { print total/1024/1024/1024 }'")]),a._v("\n")])])])])]),a._v(" "),s("h2",{attrs:{id:"二、软件包管理-apt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、软件包管理-apt"}},[a._v("#")]),a._v(" 二、软件包管理 (APT)")]),a._v(" "),s("p",[s("code",[a._v("apt")]),a._v(" 是 Debian 的核心工具之一。更换国内镜像源可以大大提升下载速度。")]),a._v(" "),s("h3",{attrs:{id:"更换-apt-软件源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更换-apt-软件源"}},[a._v("#")]),a._v(" 更换 APT 软件源")]),a._v(" "),s("ol",[s("li",[s("p",[s("strong",[a._v("查看你的 Debian 版本代号")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/os-release\n")])])]),s("p",[a._v("记下版本代号，例如 "),s("code",[a._v("bullseye")]),a._v(" (Debian 11) 或 "),s("code",[a._v("bookworm")]),a._v(" (Debian 12)。")])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("备份当前的源列表")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /etc/apt/sources.list /etc/apt/sources.list.bak\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("编辑源文件")]),a._v(" ("),s("code",[a._v("/etc/apt/sources.list")]),a._v(")，将其内容替换为国内镜像源，例如阿里云的源。")]),a._v(" "),s("p",[s("strong",[a._v("Debian 11 (bullseye) 示例")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[a._v("deb http://mirrors.aliyun.com/debian/ bullseye main non-free contrib\ndeb-src http://mirrors.aliyun.com/debian/ bullseye main non-free contrib\n\ndeb http://mirrors.aliyun.com/debian-security/ bullseye-security main non-free contrib\ndeb-src http://mirrors.aliyun.com/debian-security/ bullseye-security main non-free contrib\n\ndeb http://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib\ndeb-src http://mirrors.aliyun.com/debian/ bullseye-updates main non-free contrib\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("更新软件包列表")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" update\n")])])])])]),a._v(" "),s("h3",{attrs:{id:"解决-apt-安装问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决-apt-安装问题"}},[a._v("#")]),a._v(" 解决 APT 安装问题")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[a._v("缺少 GPG 密钥")]),a._v("：\n如果在 "),s("code",[a._v("apt update")]),a._v(" 时遇到 "),s("code",[a._v("gnupg")]),a._v(" 相关的错误，通常是缺少签名工具。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" gnupg\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("dpkg 返回错误码 (1)")]),a._v("：\n当安装或卸载软件中断时，可能会遇到这个棘手的问题。可以尝试以下修复步骤：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /var/lib/dpkg/\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" info/ info_bak          "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 备份 info 目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" info                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 新建空的 info 目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update             "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 更新源")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 尝试修复安装")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" info/* info_bak/        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将新生成的文件移回备份")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" info                "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 删除空目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" info_bak info           "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 恢复原始 info 目录")]),a._v("\n")])])])])]),a._v(" "),s("h2",{attrs:{id:"三、网络配置与诊断"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、网络配置与诊断"}},[a._v("#")]),a._v(" 三、网络配置与诊断")]),a._v(" "),s("h3",{attrs:{id:"常用网络命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用网络命令"}},[a._v("#")]),a._v(" 常用网络命令")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[a._v("查看端口占用")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("netstat")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ntulp")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -n: 数字形式显示地址和端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -t: 显示 TCP 端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -u: 显示 UDP 端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -l: 显示监听中的端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -p: 显示占用端口的进程")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("测试 UDP 端口连通性")]),a._v("：\n可以使用 "),s("code",[a._v("ncat")]),a._v(" (需要 "),s("code",[a._v("apt install ncat")]),a._v(" 安装)。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -z: 不发送数据，仅报告状态")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -v: 显示详细信息")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -u: 使用 UDP 协议")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("nc")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-zvu")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("目标IP"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("端口"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("查看和修改网关")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看当前路由和网关")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" route show\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 临时修改默认网关（重启后失效）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" route del default via "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("旧网关IP"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" route "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" default via "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("新网关IP"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" dev "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("网卡名"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),s("p",[a._v("永久修改需要编辑 "),s("code",[a._v("/etc/network/interfaces")]),a._v(" 文件。")])])]),a._v(" "),s("h3",{attrs:{id:"ssh-服务配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssh-服务配置"}},[a._v("#")]),a._v(" SSH 服务配置")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[a._v("安装 SSH 服务")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" openssh-server\n")])])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("允许 root 用户登录")]),a._v("：\n出于安全考虑，不推荐在公网上这样做。但在内网或特定测试环境中，可以修改配置文件：")]),a._v(" "),s("ol",[s("li",[a._v("编辑 "),s("code",[a._v("/etc/ssh/sshd_config")]),a._v("。")]),a._v(" "),s("li",[a._v("找到 "),s("code",[a._v("PermitRootLogin")]),a._v(" 这一行，修改为 "),s("code",[a._v("yes")]),a._v("。")]),a._v(" "),s("li",[a._v("重启 SSH 服务："),s("code",[a._v("service ssh restart")]),a._v("。")])])])]),a._v(" "),s("h2",{attrs:{id:"四、系统服务与日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、系统服务与日志"}},[a._v("#")]),a._v(" 四、系统服务与日志")]),a._v(" "),s("h3",{attrs:{id:"查看-cron-定时任务日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-cron-定时任务日志"}},[a._v("#")]),a._v(" 查看 Cron 定时任务日志")]),a._v(" "),s("p",[a._v("Debian 默认不记录 Cron 日志。要开启它：")]),a._v(" "),s("ol",[s("li",[a._v("编辑 "),s("code",[a._v("/etc/rsyslog.conf")]),a._v("。")]),a._v(" "),s("li",[a._v("找到 "),s("code",[a._v("#cron.* /var/log/cron.log")]),a._v(" 这一行，去掉前面的 "),s("code",[a._v("#")]),a._v(" 注释符。")]),a._v(" "),s("li",[a._v("重启日志服务："),s("code",[a._v("/etc/init.d/rsyslog restart")]),a._v("。")])]),a._v(" "),s("p",[a._v("之后，Cron 的执行记录就会出现在 "),s("code",[a._v("/var/log/cron.log")]),a._v(" 文件中了。")]),a._v(" "),s("h3",{attrs:{id:"时区问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时区问题"}},[a._v("#")]),a._v(" 时区问题")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[a._v("设置系统时区")]),a._v("：\n使用 "),s("code",[a._v("tzconfig")]),a._v(" 命令或 "),s("code",[a._v("dpkg-reconfigure tzdata")]),a._v(" 可以交互式地设置时区。")])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("解决 Cron 时差问题")]),a._v("：\n如果发现定时任务的执行时间不对，可能是因为 "),s("code",[a._v("/etc/localtime")]),a._v(" 文件不正确。可以强制将其链接到正确的时区文件。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将时区设置为上海时间")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" /etc/localtime\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])])])])]),a._v(" "),s("p",[a._v("希望这些笔记能对你有所帮助，让 Debian 的使用体验更加顺畅。")])])}),[],!1,null,null,null);s.default=n.exports}}]);